<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>CBT Examination</title>
<style>
body{font-family:Arial;background:#f2f2f2}
.box{max-width:900px;margin:auto;background:#fff;padding:20px}
</style>
</head>
<body>

<div class="box">
<h2>CBT Examination</h2>

Name:
<input id="name"><br><br>

<button onclick="start()">Start</button>

<div id="exam" style="display:none">
<p id="qno"></p>
<p id="stem"></p>
<div id="opts"></div>
<button onclick="prev()">Prev</button>
<button onclick="next()">Next</button>
<button onclick="submit()">Submit</button>
</div>

<div id="result"></div>
</div>

<script>
let data=[], idx=0, ans={};

fetch("PASTE_WEBAPP_URL_HERE")
.then(r=>r.json())
.then(d=>data=d);

function start(){
  document.getElementById("exam").style.display="block";
  render();
}

function render(){
  let q=data[idx];
  document.getElementById("qno").innerText=`Question ${idx+1} / ${data.length}`;
  document.getElementById("stem").innerText=q.Stem;
  document.getElementById("opts").innerHTML=["A","B","C","D"].map(o=>
    `<label>
     <input type="radio" name="o" value="${o}"
     ${ans[idx]==o?"checked":""}
     onchange="ans[${idx}]='${o}'">
     ${o}. ${q["Option"+o]}
     </label><br>`
  ).join("");
}

function next(){ if(idx<data.length-1){idx++;render();}}
function prev(){ if(idx>0){idx--;render();}}

function submit(){
  let correct=0;
  data.forEach((q,i)=>{ if(ans[i]==q.Correct) correct++; });
  document.getElementById("result").innerHTML=
    `Name: ${document.getElementById("name").value}<br>
     Total: ${data.length}<br>
     Correct: ${correct}<br>
     Wrong: ${data.length-correct}`;
}
</script>

</body>
</html>
