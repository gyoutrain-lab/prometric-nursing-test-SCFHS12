<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>SCFHS Adult Nursing CBT</title>
<style>
body { font-family: Arial; background:#f5f7fa; margin:0 }
header { background:#0b3c5d; color:white; padding:15px }
.container { max-width:900px; margin:auto; padding:20px }
.option { border:1px solid #ccc; padding:10px; margin:8px 0; cursor:pointer }
.option:hover { background:#eef }
button { padding:10px 15px; margin:10px }
</style>
</head>

<body>

<header>
<h2>SCFHS Adult Nursing Examination</h2>
Candidate Name: <input id="name" placeholder="Enter name">
<span style="float:right">Time: <span id="time">120:00</span></span>
</header>

<div class="container">
<div id="qbox"></div>

<div>
<button onclick="prev()">Previous</button>
<button onclick="next()">Next</button>
<button onclick="submitExam()">Submit</button>
</div>
</div>

<script>
const API_URL = "PASTE_YOUR_SCRIPT_URL_HERE";
let bank=[], index=0, answers={}, timer=7200;

fetch(API_URL)
.then(r=>r.json())
.then(d=>{
  bank = shuffle(d).slice(0,120);
  render();
});

function render(){
  const q = bank[index];
  document.getElementById("qbox").innerHTML = `
  <h3>Q ${index+1}/120 â€“ ${q.Domain} (b=${q.Difficulty_b})</h3>
  <p>${q.Stem}</p>
  ${["A","B","C","D"].map(o=>`
    <div class="option" onclick="select('${o}')">
      ${o}. ${q["Option"+o]}
    </div>`).join("")}
  `;
}

function select(o){ answers[index]=o }
function next(){ if(index<119){index++;render()} }
function prev(){ if(index>0){index--;render()} }

function submitExam(){
  let correct=0;
  bank.forEach((q,i)=>{
    if(answers[i]==q.Correct) correct++;
  });
  const name=document.getElementById("name").value;
  alert(`
NAME: ${name}
TOTAL: 120
CORRECT: ${correct}
WRONG: ${120-correct}
`);
}

function shuffle(a){
  return a.sort(()=>Math.random()-0.5);
}

setInterval(()=>{
  timer--;
  document.getElementById("time").innerText=
    Math.floor(timer/60)+":"+String(timer%60).padStart(2,'0');
  if(timer<=0) submitExam();
},1000);
</script>

</body>
</html>
